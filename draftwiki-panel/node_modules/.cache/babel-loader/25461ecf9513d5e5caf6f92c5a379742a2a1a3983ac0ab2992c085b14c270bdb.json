{"ast":null,"code":"var _jsxFileName = \"/Users/franciscosilva/Documents/draftboard/draftvar-panel/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Square, Circle, PenLine, Type, Download, Trash2, RotateCw, Search, Upload } from 'lucide-react';\nimport Track from './Track';\nimport ImageUploadPanel from './components/ImageUploadPanel';\nimport VariablePanel from './components/VariablePanel';\n// import WikipediaPanel from './components/WikipediaPanel';\n\n// Properties Panel Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PropertiesPanel({\n  element,\n  onUpdate\n}) {\n  if (!element) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-64 bg-white border-l border-gray-200 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-semibold mb-4\",\n      children: \"Properties\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"Color\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"color\",\n          value: element.color,\n          onChange: e => onUpdate(element.id, {\n            color: e.target.value\n          }),\n          className: \"w-full h-10 rounded cursor-pointer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"Width\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"50\",\n          max: \"400\",\n          value: element.width,\n          onChange: e => onUpdate(element.id, {\n            width: parseInt(e.target.value)\n          }),\n          className: \"w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: [element.width, \"px\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"Height\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"50\",\n          max: \"400\",\n          value: element.height,\n          onChange: e => onUpdate(element.id, {\n            height: parseInt(e.target.value)\n          }),\n          className: \"w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: [element.height, \"px\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), element.type === 'line' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"Line Thickness\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"1\",\n          max: \"20\",\n          value: element.lineThickness || 4,\n          onChange: e => {\n            const thickness = parseInt(e.target.value);\n            onUpdate(element.id, {\n              lineThickness: thickness,\n              height: thickness\n            });\n          },\n          className: \"w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: [element.lineThickness || 4, \"px\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), element.type === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"Font Size\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"12\",\n          max: \"72\",\n          value: element.fontSize || 24,\n          onChange: e => onUpdate(element.id, {\n            fontSize: parseInt(e.target.value)\n          }),\n          className: \"w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: [element.fontSize || 24, \"px\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), element.type === 'image' && element.numberValue && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"Associated Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-semibold text-blue-600\",\n          children: element.numberValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n}\n_c = PropertiesPanel;\nexport default function CanvasStarter() {\n  _s();\n  const [elements, setElements] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n  const [dragging, setDragging] = useState(null);\n  const [draggingBadge, setDraggingBadge] = useState(null);\n  const [variables, setVariables] = useState([{\n    id: 1,\n    name: 'Force',\n    value: '100N'\n  }, {\n    id: 2,\n    name: 'Mass',\n    value: '50kg'\n  }]);\n  const [showVariablePanel, setShowVariablePanel] = useState(false);\n  const [showImagePanel, setShowImagePanel] = useState(true);\n  const [showWikipediaPanel, setShowWikipediaPanel] = useState(false);\n  const canvasRef = useRef(null);\n\n  // Replace variables in text with their values\n  const replaceVariables = text => {\n    let result = text;\n    variables.forEach(variable => {\n      const regex = new RegExp(`\\\\{${variable.name}\\\\}`, 'g');\n      result = result.replace(regex, variable.value);\n    });\n    return result;\n  };\n  const addVariable = () => {\n    const newVariable = {\n      id: Date.now(),\n      name: 'NewVar',\n      value: '0'\n    };\n    setVariables([...variables, newVariable]);\n  };\n  const updateVariable = (id, field, value) => {\n    setVariables(variables.map(v => v.id === id ? {\n      ...v,\n      [field]: value\n    } : v));\n  };\n  const deleteVariable = id => {\n    setVariables(variables.filter(v => v.id !== id));\n  };\n  const addElement = type => {\n    const newElement = {\n      id: Date.now(),\n      type,\n      x: 100,\n      y: 100,\n      width: type === 'text' ? 200 : type === 'line' ? 150 : 100,\n      height: type === 'text' ? 50 : type === 'line' ? 4 : 100,\n      rotation: 0,\n      color: type === 'text' ? '#000000' : '#3b82f6',\n      text: type === 'text' ? 'Type {Force} here' : null,\n      fontSize: 24,\n      lineThickness: type === 'line' ? 4 : null\n    };\n    setElements([...elements, newElement]);\n    setSelectedId(newElement.id);\n  };\n  const addImageElement = (imageUrl, numberValue) => {\n    const newElement = {\n      id: Date.now(),\n      type: 'image',\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      rotation: 0,\n      imageUrl: imageUrl,\n      numberValue: numberValue\n    };\n    setElements([...elements, newElement]);\n    setSelectedId(newElement.id);\n  };\n  const deleteElement = () => {\n    if (selectedId) {\n      const currentIndex = elements.findIndex(el => el.id === selectedId);\n      const filteredElements = elements.filter(el => el.id !== selectedId);\n      setElements(filteredElements);\n\n      // Keep focus on another element if available\n      if (filteredElements.length > 0) {\n        // Try to select the next element, or the previous one if we deleted the last\n        const nextIndex = currentIndex < filteredElements.length ? currentIndex : filteredElements.length - 1;\n        setSelectedId(filteredElements[nextIndex].id);\n      } else {\n        setSelectedId(null);\n      }\n    }\n  };\n  const rotateElement = () => {\n    if (selectedId) {\n      setElements(elements.map(el => el.id === selectedId ? {\n        ...el,\n        rotation: (el.rotation + 45) % 360\n      } : el));\n    }\n  };\n  const updateElement = (id, updates) => {\n    setElements(elements.map(el => el.id === id ? {\n      ...el,\n      ...updates\n    } : el));\n  };\n  const handleMouseDown = (e, element) => {\n    e.stopPropagation();\n    // e.preventDefault();\n    setSelectedId(element.id);\n    const rect = canvasRef.current.getBoundingClientRect();\n    setDragging({\n      id: element.id,\n      offsetX: e.clientX - rect.left - element.x,\n      offsetY: e.clientY - rect.top - element.y\n    });\n  };\n  const handleElementClick = (e, element) => {\n    e.stopPropagation();\n    setSelectedId(element.id);\n  };\n  const handleMouseMove = e => {\n    if (dragging) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      updateElement(dragging.id, {\n        x: e.clientX - rect.left - dragging.offsetX,\n        y: e.clientY - rect.top - dragging.offsetY\n      });\n    } else if (draggingBadge) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      const element = elements.find(el => el.id === draggingBadge.id);\n      if (element) {\n        const elementScreenX = element.x + rect.left;\n        const elementScreenY = element.y + rect.top;\n        updateElement(draggingBadge.id, {\n          badgeX: e.clientX - elementScreenX - draggingBadge.offsetX,\n          badgeY: e.clientY - elementScreenY - draggingBadge.offsetY\n        });\n      }\n    }\n  };\n  const handleMouseUp = () => {\n    setDragging(null);\n    setDraggingBadge(null);\n  };\n  const handleBadgeMouseDown = (e, element) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const rect = canvasRef.current.getBoundingClientRect();\n    const elementScreenX = element.x + rect.left;\n    const elementScreenY = element.y + rect.top;\n    const currentBadgeX = element.badgeX || 10;\n    const currentBadgeY = element.badgeY || 10;\n    setDraggingBadge({\n      id: element.id,\n      offsetX: e.clientX - elementScreenX - currentBadgeX,\n      offsetY: e.clientY - elementScreenY - currentBadgeY\n    });\n  };\n  const exportCanvas = () => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 800;\n    canvas.height = 600;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = '#ffffff';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    const drawPromises = elements.map(el => {\n      return new Promise(resolve => {\n        ctx.save();\n        ctx.translate(el.x + el.width / 2, el.y + el.height / 2);\n        ctx.rotate(el.rotation * Math.PI / 180);\n        ctx.translate(-el.width / 2, -el.height / 2);\n        if (el.type === 'rectangle') {\n          ctx.fillStyle = el.color;\n          ctx.fillRect(0, 0, el.width, el.height);\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'circle') {\n          ctx.fillStyle = el.color;\n          ctx.beginPath();\n          ctx.arc(el.width / 2, el.height / 2, el.width / 2, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'line') {\n          ctx.fillStyle = el.color;\n          const thickness = el.lineThickness || 4;\n          ctx.roundRect(0, 0, el.width, thickness, 2);\n          ctx.fill();\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'text') {\n          ctx.fillStyle = el.color;\n          ctx.font = `${el.fontSize || 24}px Arial`;\n          ctx.textBaseline = 'top';\n          const displayText = replaceVariables(el.text);\n          const lines = displayText.split('\\n');\n          lines.forEach((line, index) => {\n            ctx.fillText(line, 10, 10 + index * (el.fontSize || 24) * 1.2);\n          });\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'image') {\n          const img = new Image();\n          img.onload = () => {\n            ctx.drawImage(img, 0, 0, el.width, el.height);\n\n            // Draw the badge if numberValue exists\n            if (el.numberValue) {\n              const badgeX = el.badgeX || 10;\n              const badgeY = el.badgeY || 10;\n\n              // Badge background\n              ctx.fillStyle = '#3b82f6'; // blue-500\n              ctx.roundRect(badgeX, badgeY, 60, 30, 4);\n              ctx.fill();\n\n              // Badge text\n              ctx.fillStyle = '#ffffff';\n              ctx.font = 'bold 14px Arial';\n              ctx.textAlign = 'center';\n              ctx.textBaseline = 'middle';\n              ctx.fillText(el.numberValue, badgeX + 30, badgeY + 15);\n            }\n            ctx.restore();\n            resolve();\n          };\n          img.onerror = () => {\n            ctx.restore();\n            resolve();\n          };\n          img.src = el.imageUrl;\n        }\n      });\n    });\n    Promise.all(drawPromises).then(() => {\n      const link = document.createElement('a');\n      link.download = 'engineering-diagram.png';\n      link.href = canvas.toDataURL();\n      link.click();\n    });\n  };\n  const addWikipediaArticle = (title, url, snippet) => {\n    const newElement = {\n      id: Date.now(),\n      type: 'text',\n      x: 100,\n      y: 100,\n      width: 300,\n      height: 150,\n      rotation: 0,\n      color: '#000000',\n      text: `${title}\\n\\n${snippet.replace(/<[^>]*>/g, '')}...\\n\\n${url}`,\n      fontSize: 14\n    };\n    setElements([...elements, newElement]);\n    setSelectedId(newElement.id);\n  };\n  const togglePanel = panelType => {\n    if (panelType === 'variables') {\n      setShowVariablePanel(true);\n      setShowImagePanel(false);\n      setShowWikipediaPanel(false);\n    } else if (panelType === 'image') {\n      setShowImagePanel(true);\n      setShowVariablePanel(false);\n      setShowWikipediaPanel(false);\n    } else if (panelType === 'wikipedia') {\n      setShowWikipediaPanel(true);\n      setShowImagePanel(false);\n      setShowVariablePanel(false);\n    }\n  };\n  const selectedElement = elements.find(el => el.id === selectedId);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-20 bg-white border-r border-gray-200 flex flex-col items-center py-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addElement('rectangle'),\n        className: \"p-3 hover:bg-gray-100 rounded-lg transition-colors\",\n        title: \"Add Rectangle\",\n        children: /*#__PURE__*/_jsxDEV(Square, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addElement('circle'),\n        className: \"p-3 hover:bg-gray-100 rounded-lg transition-colors\",\n        title: \"Add Circle\",\n        children: /*#__PURE__*/_jsxDEV(Circle, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addElement('line'),\n        className: \"p-3 hover:bg-gray-100 rounded-lg transition-colors\",\n        title: \"Add Line\",\n        children: /*#__PURE__*/_jsxDEV(PenLine, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addElement('text'),\n        className: \"p-3 hover:bg-gray-100 rounded-lg transition-colors\",\n        title: \"Add Text\",\n        children: /*#__PURE__*/_jsxDEV(Type, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => togglePanel('image'),\n        className: `p-3 rounded-lg transition-colors ${showImagePanel ? 'bg-blue-100' : 'hover:bg-gray-100'}`,\n        title: \"Upload Image\",\n        children: /*#__PURE__*/_jsxDEV(Upload, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => togglePanel('wikipedia'),\n        className: `p-3 rounded-lg transition-colors ${showWikipediaPanel ? 'bg-blue-100' : 'hover:bg-gray-100'}`,\n        title: \"Wikipedia Search\",\n        children: /*#__PURE__*/_jsxDEV(Search, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportCanvas,\n        className: \"p-3 hover:bg-gray-100 rounded-lg transition-colors\",\n        title: \"Export PNG\",\n        children: /*#__PURE__*/_jsxDEV(Download, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), showImagePanel && /*#__PURE__*/_jsxDEV(ImageUploadPanel, {\n      onClose: () => setShowImagePanel(false),\n      onImageAdd: addImageElement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 9\n    }, this), showVariablePanel && /*#__PURE__*/_jsxDEV(VariablePanel, {\n      variables: variables,\n      onUpdate: updateVariable,\n      onDelete: deleteVariable,\n      onAdd: addVariable,\n      onClose: () => setShowVariablePanel(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border-b border-gray-200 p-4 flex gap-2\",\n        children: [!showVariablePanel && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => togglePanel('variables'),\n          className: \"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\",\n          children: \"Show Variables\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: rotateElement,\n          disabled: !selectedId,\n          className: \"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(RotateCw, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this), \"Rotate\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteElement,\n          disabled: !selectedId,\n          className: \"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), \"Delete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex items-center justify-center p-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: canvasRef,\n          className: \"relative bg-white shadow-lg\",\n          style: {\n            width: 800,\n            height: 600\n          },\n          onMouseMove: handleMouseMove,\n          onMouseUp: handleMouseUp,\n          onMouseLeave: handleMouseUp,\n          onClick: () => setSelectedId(null),\n          children: elements.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `absolute cursor-move ${selectedId === element.id ? 'ring-2 ring-blue-500' : ''}`,\n            style: {\n              left: element.x,\n              top: element.y,\n              width: element.width,\n              height: element.height,\n              transform: `rotate(${element.rotation}deg)`,\n              transformOrigin: 'center'\n            },\n            onMouseDown: e => handleMouseDown(e, element),\n            onClick: e => handleElementClick(e, element),\n            children: [element.type === 'rectangle' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full\",\n              style: {\n                backgroundColor: element.color\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 19\n            }, this), element.type === 'circle' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full rounded-full\",\n              style: {\n                backgroundColor: element.color\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 19\n            }, this), element.type === 'line' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              style: {\n                backgroundColor: element.color,\n                height: `${element.lineThickness || 4}px`,\n                borderRadius: '2px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 19\n            }, this), element.type === 'text' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative w-full h-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: element.text,\n                onChange: e => updateElement(element.id, {\n                  text: e.target.value\n                }),\n                className: \"w-full h-full font-bold border-none outline-none bg-transparent resize-none\",\n                style: {\n                  color: element.color,\n                  fontSize: `${element.fontSize || 24}px`\n                },\n                onClick: e => e.stopPropagation()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 pointer-events-none font-bold whitespace-pre-wrap\",\n                style: {\n                  color: element.color,\n                  opacity: 0.6,\n                  backgroundColor: 'rgba(255,255,255,0.9)',\n                  fontSize: `${element.fontSize || 24}px`\n                },\n                children: replaceVariables(element.text)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 19\n            }, this), element.type === 'image' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: element.imageUrl,\n                alt: \"Uploaded\",\n                className: \"w-full h-full object-contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 21\n              }, this), element.numberValue && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute bg-blue-500 text-white px-2 py-1 rounded text-4xl font-semibold cursor-move hover:bg-blue-600 hover:shadow-lg transition-all\",\n                style: {\n                  left: `${element.badgeX || 10}px`,\n                  top: `${element.badgeY || 10}px`\n                },\n                onMouseDown: e => handleBadgeMouseDown(e, element),\n                title: \"Drag to reposition badge\",\n                children: element.numberValue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 19\n            }, this)]\n          }, element.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PropertiesPanel, {\n      element: selectedElement,\n      onUpdate: updateElement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 394,\n    columnNumber: 5\n  }, this);\n}\n_s(CanvasStarter, \"YX3K8kKh7vH7hryuzZmsPLsxu3g=\");\n_c2 = CanvasStarter;\nvar _c, _c2;\n$RefreshReg$(_c, \"PropertiesPanel\");\n$RefreshReg$(_c2, \"CanvasStarter\");","map":{"version":3,"names":["React","useState","useRef","Square","Circle","PenLine","Type","Download","Trash2","RotateCw","Search","Upload","Track","ImageUploadPanel","VariablePanel","jsxDEV","_jsxDEV","PropertiesPanel","element","onUpdate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","color","onChange","e","id","target","min","max","width","parseInt","height","lineThickness","thickness","fontSize","numberValue","_c","CanvasStarter","_s","elements","setElements","selectedId","setSelectedId","dragging","setDragging","draggingBadge","setDraggingBadge","variables","setVariables","name","showVariablePanel","setShowVariablePanel","showImagePanel","setShowImagePanel","showWikipediaPanel","setShowWikipediaPanel","canvasRef","replaceVariables","text","result","forEach","variable","regex","RegExp","replace","addVariable","newVariable","Date","now","updateVariable","field","map","v","deleteVariable","filter","addElement","newElement","x","y","rotation","addImageElement","imageUrl","deleteElement","currentIndex","findIndex","el","filteredElements","length","nextIndex","rotateElement","updateElement","updates","handleMouseDown","stopPropagation","rect","current","getBoundingClientRect","offsetX","clientX","left","offsetY","clientY","top","handleElementClick","handleMouseMove","find","elementScreenX","elementScreenY","badgeX","badgeY","handleMouseUp","handleBadgeMouseDown","preventDefault","currentBadgeX","currentBadgeY","exportCanvas","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","drawPromises","Promise","resolve","save","translate","rotate","Math","PI","restore","beginPath","arc","fill","roundRect","font","textBaseline","displayText","lines","split","line","index","fillText","img","Image","onload","drawImage","textAlign","onerror","src","all","then","link","download","href","toDataURL","click","addWikipediaArticle","title","url","snippet","togglePanel","panelType","selectedElement","onClick","onClose","onImageAdd","onDelete","onAdd","disabled","ref","style","onMouseMove","onMouseUp","onMouseLeave","transform","transformOrigin","onMouseDown","backgroundColor","borderRadius","opacity","alt","_c2","$RefreshReg$"],"sources":["/Users/franciscosilva/Documents/draftboard/draftvar-panel/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Square, Circle, PenLine, Type, Download, Trash2, RotateCw, Search, Upload } from 'lucide-react';\nimport Track from './Track';\nimport ImageUploadPanel from './components/ImageUploadPanel';\nimport VariablePanel from './components/VariablePanel';\n// import WikipediaPanel from './components/WikipediaPanel';\n\n// Properties Panel Component\nfunction PropertiesPanel({ element, onUpdate }) {\n  if (!element) return null;\n\n  return (\n    <div className=\"w-64 bg-white border-l border-gray-200 p-4\">\n      <h3 className=\"font-semibold mb-4\">Properties</h3>\n      \n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Color</label>\n          <input\n            type=\"color\"\n            value={element.color}\n            onChange={(e) => onUpdate(element.id, { color: e.target.value })}\n            className=\"w-full h-10 rounded cursor-pointer\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Width</label>\n          <input\n            type=\"range\"\n            min=\"50\"\n            max=\"400\"\n            value={element.width}\n            onChange={(e) => onUpdate(element.id, { width: parseInt(e.target.value) })}\n            className=\"w-full\"\n          />\n          <span className=\"text-sm text-gray-600\">{element.width}px</span>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Height</label>\n          <input\n            type=\"range\"\n            min=\"50\"\n            max=\"400\"\n            value={element.height}\n            onChange={(e) => onUpdate(element.id, { height: parseInt(e.target.value) })}\n            className=\"w-full\"\n          />\n          <span className=\"text-sm text-gray-600\">{element.height}px</span>\n        </div>\n\n        {element.type === 'line' && (\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Line Thickness</label>\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"20\"\n              value={element.lineThickness || 4}\n              onChange={(e) => {\n                const thickness = parseInt(e.target.value);\n                onUpdate(element.id, { \n                  lineThickness: thickness,\n                  height: thickness\n                });\n              }}\n              className=\"w-full\"\n            />\n            <span className=\"text-sm text-gray-600\">{element.lineThickness || 4}px</span>\n          </div>\n        )}\n\n        {element.type === 'text' && (\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Font Size</label>\n            <input\n              type=\"range\"\n              min=\"12\"\n              max=\"72\"\n              value={element.fontSize || 24}\n              onChange={(e) => onUpdate(element.id, { fontSize: parseInt(e.target.value) })}\n              className=\"w-full\"\n            />\n            <span className=\"text-sm text-gray-600\">{element.fontSize || 24}px</span>\n          </div>\n        )}\n\n        {element.type === 'image' && element.numberValue && (\n          <div className=\"p-3 bg-gray-50 rounded-lg\">\n            <label className=\"block text-sm font-medium mb-1\">Associated Number</label>\n            <div className=\"text-lg font-semibold text-blue-600\">{element.numberValue}</div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default function CanvasStarter() {\n  const [elements, setElements] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n  const [dragging, setDragging] = useState(null);\n  const [draggingBadge, setDraggingBadge] = useState(null);\n  const [variables, setVariables] = useState([\n    { id: 1, name: 'Force', value: '100N' },\n    { id: 2, name: 'Mass', value: '50kg' }\n  ]);\n  const [showVariablePanel, setShowVariablePanel] = useState(false);\n  const [showImagePanel, setShowImagePanel] = useState(true);\n  const [showWikipediaPanel, setShowWikipediaPanel] = useState(false);\n  const canvasRef = useRef(null);\n\n  // Replace variables in text with their values\n  const replaceVariables = (text) => {\n    let result = text;\n    variables.forEach(variable => {\n      const regex = new RegExp(`\\\\{${variable.name}\\\\}`, 'g');\n      result = result.replace(regex, variable.value);\n    });\n    return result;\n  };\n\n  const addVariable = () => {\n    const newVariable = {\n      id: Date.now(),\n      name: 'NewVar',\n      value: '0'\n    };\n    setVariables([...variables, newVariable]);\n  };\n\n  const updateVariable = (id, field, value) => {\n    setVariables(variables.map(v => \n      v.id === id ? { ...v, [field]: value } : v\n    ));\n  };\n\n  const deleteVariable = (id) => {\n    setVariables(variables.filter(v => v.id !== id));\n  };\n\n  const addElement = (type) => {\n    const newElement = {\n      id: Date.now(),\n      type,\n      x: 100,\n      y: 100,\n      width: type === 'text' ? 200 : type === 'line' ? 150 : 100,\n      height: type === 'text' ? 50 : type === 'line' ? 4 : 100,\n      rotation: 0,\n      color: type === 'text' ? '#000000' : '#3b82f6',\n      text: type === 'text' ? 'Type {Force} here' : null,\n      fontSize: 24,\n      lineThickness: type === 'line' ? 4 : null\n    };\n    setElements([...elements, newElement]);\n    setSelectedId(newElement.id);\n  };\n\n  const addImageElement = (imageUrl, numberValue) => {\n    const newElement = {\n      id: Date.now(),\n      type: 'image',\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      rotation: 0,\n      imageUrl: imageUrl,\n      numberValue: numberValue\n    };\n    setElements([...elements, newElement]);\n    setSelectedId(newElement.id);\n  };\n\n  const deleteElement = () => {\n    if (selectedId) {\n      const currentIndex = elements.findIndex(el => el.id === selectedId);\n      const filteredElements = elements.filter(el => el.id !== selectedId);\n      setElements(filteredElements);\n      \n      // Keep focus on another element if available\n      if (filteredElements.length > 0) {\n        // Try to select the next element, or the previous one if we deleted the last\n        const nextIndex = currentIndex < filteredElements.length ? currentIndex : filteredElements.length - 1;\n        setSelectedId(filteredElements[nextIndex].id);\n      } else {\n        setSelectedId(null);\n      }\n    }\n  };\n\n  const rotateElement = () => {\n    if (selectedId) {\n      setElements(elements.map(el => \n        el.id === selectedId ? { ...el, rotation: (el.rotation + 45) % 360 } : el\n      ));\n    }\n  };\n\n  const updateElement = (id, updates) => {\n    setElements(elements.map(el => el.id === id ? { ...el, ...updates } : el));\n  };\n\n  const handleMouseDown = (e, element) => {\n    e.stopPropagation();\n    // e.preventDefault();\n    setSelectedId(element.id);\n    const rect = canvasRef.current.getBoundingClientRect();\n    setDragging({\n      id: element.id,\n      offsetX: e.clientX - rect.left - element.x,\n      offsetY: e.clientY - rect.top - element.y\n    });\n  };\n\n  const handleElementClick = (e, element) => {\n    e.stopPropagation();\n    setSelectedId(element.id);\n  };\n\n  const handleMouseMove = (e) => {\n    if (dragging) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      updateElement(dragging.id, {\n        x: e.clientX - rect.left - dragging.offsetX,\n        y: e.clientY - rect.top - dragging.offsetY\n      });\n    } else if (draggingBadge) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      const element = elements.find(el => el.id === draggingBadge.id);\n      if (element) {\n        const elementScreenX = element.x + rect.left;\n        const elementScreenY = element.y + rect.top;\n        \n        updateElement(draggingBadge.id, {\n          badgeX: e.clientX - elementScreenX - draggingBadge.offsetX,\n          badgeY: e.clientY - elementScreenY - draggingBadge.offsetY\n        });\n      }\n    }\n  };\n\n  const handleMouseUp = () => {\n    setDragging(null);\n    setDraggingBadge(null);\n  };\n\n  const handleBadgeMouseDown = (e, element) => {\n    e.stopPropagation();\n    e.preventDefault();\n    \n    const rect = canvasRef.current.getBoundingClientRect();\n    const elementScreenX = element.x + rect.left;\n    const elementScreenY = element.y + rect.top;\n    const currentBadgeX = element.badgeX || 10;\n    const currentBadgeY = element.badgeY || 10;\n    \n    setDraggingBadge({\n      id: element.id,\n      offsetX: e.clientX - elementScreenX - currentBadgeX,\n      offsetY: e.clientY - elementScreenY - currentBadgeY\n    });\n  };\n\n  const exportCanvas = () => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 800;\n    canvas.height = 600;\n    const ctx = canvas.getContext('2d');\n    \n    ctx.fillStyle = '#ffffff';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    const drawPromises = elements.map(el => {\n      return new Promise((resolve) => {\n        ctx.save();\n        ctx.translate(el.x + el.width / 2, el.y + el.height / 2);\n        ctx.rotate((el.rotation * Math.PI) / 180);\n        ctx.translate(-el.width / 2, -el.height / 2);\n\n        if (el.type === 'rectangle') {\n          ctx.fillStyle = el.color;\n          ctx.fillRect(0, 0, el.width, el.height);\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'circle') {\n          ctx.fillStyle = el.color;\n          ctx.beginPath();\n          ctx.arc(el.width / 2, el.height / 2, el.width / 2, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'line') {\n          ctx.fillStyle = el.color;\n          const thickness = el.lineThickness || 4;\n          ctx.roundRect(0, 0, el.width, thickness, 2);\n          ctx.fill();\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'text') {\n          ctx.fillStyle = el.color;\n          ctx.font = `${el.fontSize || 24}px Arial`;\n          ctx.textBaseline = 'top';\n          \n          const displayText = replaceVariables(el.text);\n          const lines = displayText.split('\\n');\n          \n          lines.forEach((line, index) => {\n            ctx.fillText(line, 10, 10 + (index * (el.fontSize || 24) * 1.2));\n          });\n          ctx.restore();\n          resolve();\n        } else if (el.type === 'image') {\n          const img = new Image();\n          img.onload = () => {\n            ctx.drawImage(img, 0, 0, el.width, el.height);\n            \n            // Draw the badge if numberValue exists\n            if (el.numberValue) {\n              const badgeX = el.badgeX || 10;\n              const badgeY = el.badgeY || 10;\n              \n              // Badge background\n              ctx.fillStyle = '#3b82f6'; // blue-500\n              ctx.roundRect(badgeX, badgeY, 60, 30, 4);\n              ctx.fill();\n              \n              // Badge text\n              ctx.fillStyle = '#ffffff';\n              ctx.font = 'bold 14px Arial';\n              ctx.textAlign = 'center';\n              ctx.textBaseline = 'middle';\n              ctx.fillText(el.numberValue, badgeX + 30, badgeY + 15);\n            }\n            \n            ctx.restore();\n            resolve();\n          };\n          img.onerror = () => {\n            ctx.restore();\n            resolve();\n          };\n          img.src = el.imageUrl;\n        }\n      });\n    });\n\n    Promise.all(drawPromises).then(() => {\n      const link = document.createElement('a');\n      link.download = 'engineering-diagram.png';\n      link.href = canvas.toDataURL();\n      link.click();\n    });\n  };\n\n  const addWikipediaArticle = (title, url, snippet) => {\n    const newElement = {\n      id: Date.now(),\n      type: 'text',\n      x: 100,\n      y: 100,\n      width: 300,\n      height: 150,\n      rotation: 0,\n      color: '#000000',\n      text: `${title}\\n\\n${snippet.replace(/<[^>]*>/g, '')}...\\n\\n${url}`,\n      fontSize: 14\n    };\n    setElements([...elements, newElement]);\n    setSelectedId(newElement.id);\n  };\n\n  const togglePanel = (panelType) => {\n    if (panelType === 'variables') {\n      setShowVariablePanel(true);\n      setShowImagePanel(false);\n      setShowWikipediaPanel(false);\n    } else if (panelType === 'image') {\n      setShowImagePanel(true);\n      setShowVariablePanel(false);\n      setShowWikipediaPanel(false);\n    } else if (panelType === 'wikipedia') {\n      setShowWikipediaPanel(true);\n      setShowImagePanel(false);\n      setShowVariablePanel(false);\n    }\n  };\n\n  const selectedElement = elements.find(el => el.id === selectedId);\n\n  return (\n    <div className=\"flex h-screen bg-gray-100\">\n      {/* Toolbar */}\n      <div className=\"w-20 bg-white border-r border-gray-200 flex flex-col items-center py-4 gap-4\">\n        <button\n          onClick={() => addElement('rectangle')}\n          className=\"p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n          title=\"Add Rectangle\"\n        >\n          <Square className=\"w-6 h-6\" />\n        </button>\n        <button\n          onClick={() => addElement('circle')}\n          className=\"p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n          title=\"Add Circle\"\n        >\n          <Circle className=\"w-6 h-6\" />\n        </button>\n        <button\n          onClick={() => addElement('line')}\n          className=\"p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n          title=\"Add Line\"\n        >\n          <PenLine className=\"w-6 h-6\" />\n        </button>\n        <button\n          onClick={() => addElement('text')}\n          className=\"p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n          title=\"Add Text\"\n        >\n          <Type className=\"w-6 h-6\" />\n        </button>\n        <button\n          onClick={() => togglePanel('image')}\n          className={`p-3 rounded-lg transition-colors ${showImagePanel ? 'bg-blue-100' : 'hover:bg-gray-100'}`}\n          title=\"Upload Image\"\n        >\n          <Upload className=\"w-6 h-6\" />\n        </button>\n        <button\n          onClick={() => togglePanel('wikipedia')}\n          className={`p-3 rounded-lg transition-colors ${showWikipediaPanel ? 'bg-blue-100' : 'hover:bg-gray-100'}`}\n          title=\"Wikipedia Search\"\n        >\n          <Search className=\"w-6 h-6\" />\n        </button>\n        <div className=\"flex-1\" />\n        <button\n          onClick={exportCanvas}\n          className=\"p-3 hover:bg-gray-100 rounded-lg transition-colors\"\n          title=\"Export PNG\"\n        >\n          <Download className=\"w-6 h-6\" />\n        </button>\n      </div>\n\n      {/* Image Upload Panel - Now shown by default */}\n       {showImagePanel && (\n        <ImageUploadPanel\n          onClose={() => setShowImagePanel(false)}\n          onImageAdd={addImageElement}\n        />\n      )}\n\n      {/* Variable Panel - Hidden by default */}\n      {showVariablePanel && (\n        <VariablePanel\n          variables={variables}\n          onUpdate={updateVariable}\n          onDelete={deleteVariable}\n          onAdd={addVariable}\n          onClose={() => setShowVariablePanel(false)}\n        />\n      )}\n\n      {/* Wikipedia Panel - Hidden by default */}\n      {/* {showWikipediaPanel && (\n        <WikipediaPanel\n          onClose={() => setShowWikipediaPanel(false)}\n          onAddToCanvas={addWikipediaArticle}\n        />\n      )} */}\n\n      {/* Canvas */}\n      <div className=\"flex-1 flex flex-col\">\n        <div className=\"bg-white border-b border-gray-200 p-4 flex gap-2\">\n          {/* {!showImagePanel && (\n            <button\n              onClick={() => togglePanel('image')}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\n            >\n              Show Image Upload\n            </button>\n          )} */}\n          {!showVariablePanel && (\n            <button\n              onClick={() => togglePanel('variables')}\n              className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\"\n            >\n              Show Variables\n            </button>\n          )}\n          {/* {!showWikipediaPanel && (\n            <button\n              onClick={() => togglePanel('wikipedia')}\n              className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600\"\n            >\n              Show Wikipedia\n            </button>\n          )} */}\n          <button\n            onClick={rotateElement}\n            disabled={!selectedId}\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n          >\n            <RotateCw className=\"w-4 h-4\" />\n            Rotate\n          </button>\n          <button\n            onClick={deleteElement}\n            disabled={!selectedId}\n            className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n            Delete\n          </button>\n        </div>\n\n        <div className=\"flex-1 flex items-center justify-center p-8\">\n          <div\n            ref={canvasRef}\n            className=\"relative bg-white shadow-lg\"\n            style={{ width: 800, height: 600 }}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n            onMouseLeave={handleMouseUp}\n            onClick={() => setSelectedId(null)}\n          >\n            {elements.map(element => (\n              <div\n                key={element.id}\n                className={`absolute cursor-move ${selectedId === element.id ? 'ring-2 ring-blue-500' : ''}`}\n                style={{\n                  left: element.x,\n                  top: element.y,\n                  width: element.width,\n                  height: element.height,\n                  transform: `rotate(${element.rotation}deg)`,\n                  transformOrigin: 'center'\n                }}\n                onMouseDown={(e) => handleMouseDown(e, element)}\n                onClick={(e) => handleElementClick(e, element)}\n              >\n                {element.type === 'rectangle' && (\n                  <div\n                    className=\"w-full h-full\"\n                    style={{ backgroundColor: element.color }}\n                  />\n                )}\n                {element.type === 'circle' && (\n                  <div\n                    className=\"w-full h-full rounded-full\"\n                    style={{ backgroundColor: element.color }}\n                  />\n                )}\n                {element.type === 'line' && (\n                  <div\n                    className=\"w-full\"\n                    style={{ \n                      backgroundColor: element.color,\n                      height: `${element.lineThickness || 4}px`,\n                      borderRadius: '2px'\n                    }}\n                  />\n                )}\n                {element.type === 'text' && (\n                  <div className=\"relative w-full h-full\">\n                    <textarea\n                      value={element.text}\n                      onChange={(e) => updateElement(element.id, { text: e.target.value })}\n                      className=\"w-full h-full font-bold border-none outline-none bg-transparent resize-none\"\n                      style={{ \n                        color: element.color,\n                        fontSize: `${element.fontSize || 24}px`\n                      }}\n                      onClick={(e) => e.stopPropagation()}\n                    />\n                    <div \n                      className=\"absolute inset-0 pointer-events-none font-bold whitespace-pre-wrap\"\n                      style={{ \n                        color: element.color,\n                        opacity: 0.6,\n                        backgroundColor: 'rgba(255,255,255,0.9)',\n                        fontSize: `${element.fontSize || 24}px`\n                      }}\n                    >\n                      {replaceVariables(element.text)}\n                    </div>\n                  </div>\n                )}\n                {element.type === 'image' && (\n                  <div className=\"w-full h-full relative\">\n                    <img\n                      src={element.imageUrl}\n                      alt=\"Uploaded\"\n                      className=\"w-full h-full object-contain\"\n                    />\n                    {element.numberValue && (\n                      <div \n                        className=\"absolute bg-blue-500 text-white px-2 py-1 rounded text-4xl font-semibold cursor-move hover:bg-blue-600 hover:shadow-lg transition-all\"\n                        style={{\n                          left: `${element.badgeX || 10}px`,\n                          top: `${element.badgeY || 10}px`\n                        }}\n                        onMouseDown={(e) => handleBadgeMouseDown(e, element)}\n                        title=\"Drag to reposition badge\"\n                      >\n                        {element.numberValue}\n                      </div>\n                    )}\n                  </div>\n                )}\n                \n              </div>\n            ))}\n            {/* <Dashboard /> */}\n            \n          </div>\n        </div>\n      </div>\n\n      {/* Properties Panel */}\n      <PropertiesPanel\n        element={selectedElement}\n        onUpdate={updateElement}\n      />\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}